<!DOCTYPE html>
<html lang="en">
<head>
  <title>jMapping: Usage</title>
  
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" href="styles.css" type="text/css" media="screen" />
</head>
<body>
  <a href="http://github.com/vigetlabs/jmapping"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
  
  <div id="container">
    
    <div id="header">
      <h1>jMapping: Usage</h1>
    </div>
    
    <div id="nav">
      <ul>
        <li><a href="/jmapping/">About</a></li>
        <li><span class="active">Usage</span></li>
        <li><a href="examples/">Examples</a></li>
      </ul>
    </div>
    
    <div id="content">
      <p><a href="http://code.google.com/apis/maps/signup.html">Start by getting a Google Maps API key</a>. Download the necessary dependencies and jMapping.</p>
      <p>Make sure you include the necessary scripts in your page:</p>
<pre><code>&lt;script type="text/javascript" src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=YOURAPIKEY"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="mapiconmaker.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="jquery.metadata.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="jquery.jmapping.js"&gt;&lt;/script&gt;
</code></pre>

      <p>Make sure your HTML has a <code>div</code> element for the Google map, and there is a container element with some locations and their data. The data by default is expected to be on the "data" attribute of the location (this can be configured):</p>
<pre><code>&lt;div id="map"&gt;&lt;/div&gt;

&lt;div id="map-side-bar"&gt;
  &lt;div class="map-location" data="{id: 5, point: {lat: 35.925, lng: -79.053}, category: 'Gas'}"&gt;
    &lt;a href="#" class="map-link"&gt;Some Place&lt;/a&gt;
    &lt;div class="info-box"&gt;
      &lt;p&gt;Some thing for the info box.&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="map-location" data="{id: 8, point: {lat: 35.935, lng: -79.024}, category: 'Food'}"&gt;
    &lt;a href="#" class="map-link"&gt;Another Place&lt;/a&gt;
    &lt;div class="info-box"&gt;
      &lt;p&gt;Example Text.&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
      <p>Then just call the <code>jMapping</code> function on the map element:</p>

<pre><code>$(document).ready(function(){
  $('#map').jMapping();
});
</code></pre>

    <h2>Options</h2>
    <table cellpadding="0" cellspacing="0" class="options">
      <thead>
        <tr>
          <th class="name">Name</th>
          <th class="description">Description</th>
          <th class="default">Default</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="name"><code>side_bar_selector</code></td>
          <td class="description">This defines the selector where location items will be searched for within.</td>
          <td class="default"><code>"#map-side-bar:first"</code></td>
        </tr>
        <tr>
          <td class="name"><code>location_selector</code></td>
          <td class="description">This defines the selector for location items. This is the element that the metadata needs to be associated with.<br />The plugin will look for items matching this selector inside of the side bar element.</td>
          <td class="default"><code>".map-location"</code></td>
        </tr>
        <tr>
          <td class="name"><code>link_selector</code></td>
          <td class="description"><p>This selector defines the link that will be used to "activate" a marker on the map. If info window elements are provided the HTML inside of them will be loaded into the pop up window when these links are clicked. You should set this value to <code>false</code> if you do not wish to use this functionality.</p><p>The plugin will change the href URLs on these links, but they can be set to something meaningful incase the users browser doesn't support Google Maps.<br />These links will be searched for inside of the location elements specified in the <code>location_selector</code>.</p></td>
          <td class="default"><code>a.map-link</code></td>
        </tr>
        <tr>
          <td class="name"><code>info_window_selector</code></td>
          <td class="description">This selector defines where the content for the Google Maps Info window for each location marker is. This element will be searched for inside of the location elements specified in the <code>location_selector</code>. If no element is found no Info Window will be attached to the marker.</td>
          <td class="default"><code>".info-box"</code></td>
        </tr>
        <tr>
          <td class="name"><code>metadata_options</code></td>
          <td class="description">This is the set of options passed to the jQuery metadata function. It defines how the necessary metadata for each location will be searched for. See the <a href="http://docs.jquery.com/Plugins/Metadata/metadata#toptions">metadata plugins docs</a> for more info.</td>
          <td class="default"><code>{type: "attr", name: "data"}</code></td>
        </tr>
        <tr>
          <td class="name"><code>info_window_max_width</code></td>
          <td class="description">This specifies what the max width the Google Maps Info Windows can be when a marker is activated.</td>
          <td class="default"><code>425</code></td>
        </tr>
        <tr>
          <td class="name"><code>map_config</code></td>
          <td class="description"><p>This can be set to a function that will accept the Google maps object as it's only parameter. The function can be used to set the map type or add controls or perform any other functions you want to do on the map object before the markers are placed on it.</p>
            <p>If this option is not set the map type will be <code>G_NORMAL_MAP</code> and only the <code>GSmallMapControl</code> control will be added.</p></td>
          <td class="default"><em>None</em></td>
        </tr>
        <tr>
          <td class="name"><code>category_icon_options</code></td>
          <td class="description"><p>By default the plugin will use the default Google Maps marker icon. But if use this option to specify what options to pass to the MapIconMaker based on category data associated with the location. It accepts 2 types of values: an object or a function.</p>
          <p>If this setting is set to an object it will take the category data on the location and look for a key on the object that matches and return that value. If there is no value for the category, it will return the value specified in the "default" key.</p>
          <p>If the setting is set to a function it will call the function and pass the value for the category data to the function returning the result. This can be used for more complicated logic and for using something other then just string data in the category, such as an object with multiple data attributes it's self. The function should return an object with attributes that are <a href="http://gmaps-utility-library.googlecode.com/svn/trunk/mapiconmaker/1.1/docs/reference.html" title="MapIconMaker v1.0 Reference">valid for a MarkerIconOptions object</a>.</p></td>
          <td class="default"><em>None</em></td>
        </tr>
      </tbody>
    </table>
    </div>
      
    <div class="footer"></div>
  </div>
  
</body>
</html>
